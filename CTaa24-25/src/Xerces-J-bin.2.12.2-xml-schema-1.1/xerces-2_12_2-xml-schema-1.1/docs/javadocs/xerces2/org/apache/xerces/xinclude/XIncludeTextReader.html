<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (version 1.7.0_65) on Fri Jan 21 05:53:40 IST 2022 -->
<title>XIncludeTextReader (Xerces2 Implementation)</title>
<meta name="date" content="2022-01-21">
<link rel="stylesheet" type="text/css" href="../../../../stylesheet.css" title="Style">
</head>
<body>
<script type="text/javascript"><!--
    if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="XIncludeTextReader (Xerces2 Implementation)";
    }
//-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar_top">
<!--   -->
</a><a href="#skip-navbar_top" title="Skip navigation links"></a><a name="navbar_top_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../org/apache/xerces/xinclude/XIncludeNamespaceSupport.html" title="class in org.apache.xerces.xinclude"><span class="strong">Prev Class</span></a></li>
<li>Next Class</li>
</ul>
<ul class="navList">
<li><a href="../../../../index.html?org/apache/xerces/xinclude/XIncludeTextReader.html" target="_top">Frames</a></li>
<li><a href="XIncludeTextReader.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor_summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor_detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">org.apache.xerces.xinclude</div>
<h2 title="Class XIncludeTextReader" class="title">Class XIncludeTextReader</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li>java.lang.Object</li>
<li>
<ul class="inheritance">
<li>org.apache.xerces.xinclude.XIncludeTextReader</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt>Direct Known Subclasses:</dt>
<dd><a href="../../../../org/apache/xerces/xinclude/XInclude11TextReader.html" title="class in org.apache.xerces.xinclude">XInclude11TextReader</a></dd>
</dl>
<hr>
<br>
<pre>public class <span class="strong">XIncludeTextReader</span>
extends java.lang.Object</pre>
<div class="block">This class is used for reading resources requested in &lt;include&gt; elements,
 when the parse attribute of the &lt;include&gt; element is "text".  Using this
 class will open the location, detect the encoding, and discard the byte order
 mark, if applicable.
 
 REVISIT:
 Much of the code in this class is taken from XMLEntityManager.  It would be nice
 if this code could be shared in some way.  However, since XMLEntityManager is used
 for reading files as XML, and this needs to read files as text, there would need
 to be some refactoring done.</div>
<dl><dt><span class="strong">Version:</span></dt>
  <dd>$Id: XIncludeTextReader.java 1478180 2013-05-01 20:39:23Z mrglavas $</dd>
<dt><span class="strong">Author:</span></dt>
  <dd>Michael Glavassevich, IBM, Peter McCracken, IBM, Ankit Pasricha, IBM, Arun Yadav, Sun Microsystems Inc.</dd>
<dt><span class="strong">See Also:</span></dt><dd><a href="../../../../org/apache/xerces/xinclude/XIncludeHandler.html" title="class in org.apache.xerces.xinclude"><code>XIncludeHandler</code></a></dd></dl>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor_summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colOne" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colOne"><code><strong><a href="../../../../org/apache/xerces/xinclude/XIncludeTextReader.html#XIncludeTextReader(org.apache.xerces.xni.parser.XMLInputSource,%20org.apache.xerces.xinclude.XIncludeHandler,%20int)">XIncludeTextReader</a></strong>(org.apache.xerces.xni.parser.XMLInputSource&nbsp;source,
                  <a href="../../../../org/apache/xerces/xinclude/XIncludeHandler.html" title="class in org.apache.xerces.xinclude">XIncludeHandler</a>&nbsp;handler,
                  int&nbsp;bufferSize)</code>
<div class="block">Construct the XIncludeReader using the XMLInputSource and XIncludeHandler.</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method_summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span>Methods</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../org/apache/xerces/xinclude/XIncludeTextReader.html#close()">close</a></strong>()</code>
<div class="block">Closes the stream.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected java.lang.String</code></td>
<td class="colLast"><code><strong><a href="../../../../org/apache/xerces/xinclude/XIncludeTextReader.html#consumeBOM(java.io.InputStream,%20java.lang.String)">consumeBOM</a></strong>(java.io.InputStream&nbsp;stream,
          java.lang.String&nbsp;encoding)</code>
<div class="block">Removes the byte order mark from the stream, if
 it exists and returns the encoding name.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected java.lang.String</code></td>
<td class="colLast"><code><strong><a href="../../../../org/apache/xerces/xinclude/XIncludeTextReader.html#getEncodingName(byte[])">getEncodingName</a></strong>(byte[]&nbsp;b4)</code>
<div class="block">REVISIT: This code is taken from org.apache.xerces.impl.XMLEntityManager.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected java.lang.String</code></td>
<td class="colLast"><code><strong><a href="../../../../org/apache/xerces/xinclude/XIncludeTextReader.html#getEncodingName(java.io.InputStream)">getEncodingName</a></strong>(java.io.InputStream&nbsp;stream)</code>
<div class="block">XMLEntityManager cares about endian-ness, since it creates its own optimized
 readers.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected java.io.Reader</code></td>
<td class="colLast"><code><strong><a href="../../../../org/apache/xerces/xinclude/XIncludeTextReader.html#getReader(org.apache.xerces.xni.parser.XMLInputSource)">getReader</a></strong>(org.apache.xerces.xni.parser.XMLInputSource&nbsp;source)</code>
<div class="block">Return the Reader for given XMLInputSource.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected boolean</code></td>
<td class="colLast"><code><strong><a href="../../../../org/apache/xerces/xinclude/XIncludeTextReader.html#isValid(int)">isValid</a></strong>(int&nbsp;ch)</code>
<div class="block">Returns true if the specified character is a valid XML character
 as per the rules of XML 1.0.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../org/apache/xerces/xinclude/XIncludeTextReader.html#parse()">parse</a></strong>()</code>
<div class="block">Read the input stream as text, and pass the text on to the XIncludeHandler
 using calls to characters().</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected void</code></td>
<td class="colLast"><code><strong><a href="../../../../org/apache/xerces/xinclude/XIncludeTextReader.html#setBufferSize(int)">setBufferSize</a></strong>(int&nbsp;bufferSize)</code>
<div class="block">Sets the buffer size property for the reader which decides the chunk sizes that are parsed
 by the reader at a time and passed to the handler</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../org/apache/xerces/xinclude/XIncludeTextReader.html#setErrorReporter(org.apache.xerces.impl.XMLErrorReporter)">setErrorReporter</a></strong>(<a href="../../../../org/apache/xerces/impl/XMLErrorReporter.html" title="class in org.apache.xerces.impl">XMLErrorReporter</a>&nbsp;errorReporter)</code>
<div class="block">Sets the XMLErrorReporter used for reporting errors while
 reading the text include.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../org/apache/xerces/xinclude/XIncludeTextReader.html#setInputSource(org.apache.xerces.xni.parser.XMLInputSource)">setInputSource</a></strong>(org.apache.xerces.xni.parser.XMLInputSource&nbsp;source)</code>
<div class="block">Sets the input source on this text reader.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods_inherited_from_class_java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.Object</h3>
<code>clone, equals, finalize, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor_detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="XIncludeTextReader(org.apache.xerces.xni.parser.XMLInputSource, org.apache.xerces.xinclude.XIncludeHandler, int)">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>XIncludeTextReader</h4>
<pre>public&nbsp;XIncludeTextReader(org.apache.xerces.xni.parser.XMLInputSource&nbsp;source,
                  <a href="../../../../org/apache/xerces/xinclude/XIncludeHandler.html" title="class in org.apache.xerces.xinclude">XIncludeHandler</a>&nbsp;handler,
                  int&nbsp;bufferSize)
                   throws java.io.IOException</pre>
<div class="block">Construct the XIncludeReader using the XMLInputSource and XIncludeHandler.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>source</code> - The XMLInputSource to use.</dd><dd><code>handler</code> - The XIncludeHandler to use.</dd><dd><code>bufferSize</code> - The size of this text reader's buffer.</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code>java.io.IOException</code></dd></dl>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method_detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="setErrorReporter(org.apache.xerces.impl.XMLErrorReporter)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setErrorReporter</h4>
<pre>public&nbsp;void&nbsp;setErrorReporter(<a href="../../../../org/apache/xerces/impl/XMLErrorReporter.html" title="class in org.apache.xerces.impl">XMLErrorReporter</a>&nbsp;errorReporter)</pre>
<div class="block">Sets the XMLErrorReporter used for reporting errors while
 reading the text include.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>errorReporter</code> - the XMLErrorReporter to be used for
 reporting errors.</dd></dl>
</li>
</ul>
<a name="getReader(org.apache.xerces.xni.parser.XMLInputSource)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getReader</h4>
<pre>protected&nbsp;java.io.Reader&nbsp;getReader(org.apache.xerces.xni.parser.XMLInputSource&nbsp;source)
                            throws java.io.IOException</pre>
<div class="block">Return the Reader for given XMLInputSource.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>source</code> - The XMLInputSource to use.</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code>java.io.IOException</code></dd></dl>
</li>
</ul>
<a name="getEncodingName(java.io.InputStream)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getEncodingName</h4>
<pre>protected&nbsp;java.lang.String&nbsp;getEncodingName(java.io.InputStream&nbsp;stream)
                                    throws java.io.IOException</pre>
<div class="block">XMLEntityManager cares about endian-ness, since it creates its own optimized
 readers. Since we're just using generic Java readers for now, we're not caring
 about endian-ness.  If this changes, even more code needs to be copied from
 XMLEntity manager. -- PJM</div>
<dl><dt><span class="strong">Throws:</span></dt>
<dd><code>java.io.IOException</code></dd></dl>
</li>
</ul>
<a name="consumeBOM(java.io.InputStream, java.lang.String)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>consumeBOM</h4>
<pre>protected&nbsp;java.lang.String&nbsp;consumeBOM(java.io.InputStream&nbsp;stream,
                          java.lang.String&nbsp;encoding)
                               throws java.io.IOException</pre>
<div class="block">Removes the byte order mark from the stream, if
 it exists and returns the encoding name.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>stream</code> - </dd><dd><code>encoding</code> - </dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code>java.io.IOException</code></dd></dl>
</li>
</ul>
<a name="getEncodingName(byte[])">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getEncodingName</h4>
<pre>protected&nbsp;java.lang.String&nbsp;getEncodingName(byte[]&nbsp;b4)</pre>
<div class="block">REVISIT: This code is taken from org.apache.xerces.impl.XMLEntityManager.
          Is there any way we can share the code, without having it implemented twice?
          I think we should make it public and static in XMLEntityManager. --PJM

 Returns the IANA encoding name that is auto-detected from
 the bytes specified, with the endian-ness of that encoding where appropriate.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>b4</code> - The first four bytes of the input.</dd>
<dt><span class="strong">Returns:</span></dt><dd>the encoding name, or null if no encoding could be detected</dd></dl>
</li>
</ul>
<a name="parse()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>parse</h4>
<pre>public&nbsp;void&nbsp;parse()
           throws java.io.IOException</pre>
<div class="block">Read the input stream as text, and pass the text on to the XIncludeHandler
 using calls to characters().  This will read all of the text it can from the
 resource.</div>
<dl><dt><span class="strong">Throws:</span></dt>
<dd><code>java.io.IOException</code></dd></dl>
</li>
</ul>
<a name="setInputSource(org.apache.xerces.xni.parser.XMLInputSource)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setInputSource</h4>
<pre>public&nbsp;void&nbsp;setInputSource(org.apache.xerces.xni.parser.XMLInputSource&nbsp;source)</pre>
<div class="block">Sets the input source on this text reader.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>source</code> - The XMLInputSource to use.</dd></dl>
</li>
</ul>
<a name="close()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>close</h4>
<pre>public&nbsp;void&nbsp;close()
           throws java.io.IOException</pre>
<div class="block">Closes the stream.  Call this after parse(), or when there is no longer any need
 for this object.</div>
<dl><dt><span class="strong">Throws:</span></dt>
<dd><code>java.io.IOException</code></dd></dl>
</li>
</ul>
<a name="isValid(int)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>isValid</h4>
<pre>protected&nbsp;boolean&nbsp;isValid(int&nbsp;ch)</pre>
<div class="block">Returns true if the specified character is a valid XML character
 as per the rules of XML 1.0.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>ch</code> - The character to check.</dd></dl>
</li>
</ul>
<a name="setBufferSize(int)">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>setBufferSize</h4>
<pre>protected&nbsp;void&nbsp;setBufferSize(int&nbsp;bufferSize)</pre>
<div class="block">Sets the buffer size property for the reader which decides the chunk sizes that are parsed
 by the reader at a time and passed to the handler</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>bufferSize</code> - The size of the buffer desired</dd></dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar_bottom">
<!--   -->
</a><a href="#skip-navbar_bottom" title="Skip navigation links"></a><a name="navbar_bottom_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../org/apache/xerces/xinclude/XIncludeNamespaceSupport.html" title="class in org.apache.xerces.xinclude"><span class="strong">Prev Class</span></a></li>
<li>Next Class</li>
</ul>
<ul class="navList">
<li><a href="../../../../index.html?org/apache/xerces/xinclude/XIncludeTextReader.html" target="_top">Frames</a></li>
<li><a href="XIncludeTextReader.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor_summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor_detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
<p class="legalCopy"><small>Copyright © 1999-2022 The Apache Software Foundation. All Rights Reserved.</small></p>
</body>
</html>
